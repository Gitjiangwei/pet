(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06a61972"],{"044d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"cityList"}},[a("h2",[t._v("城市配置页面")]),t._v(" "),a("div",[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"城市名称"}},[a("el-input",{attrs:{placeholder:"请输入需要查资的城市名称"},model:{value:t.searchCityName,callback:function(e){t.searchCityName=e},expression:"searchCityName"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.fzfindAll()}}},[t._v("查询")])],1),t._v(" "),a("el-form-item",{attrs:{label:"添加城市"}},[a("el-input",{attrs:{placeholder:"请输入需要添加的城市名称"},model:{value:t.addCityName,callback:function(e){t.addCityName=e},expression:"addCityName"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addEmp()}}},[t._v("新增城市")])],1)],1)],1),t._v(" "),a("div",[a("el-table",{attrs:{data:t.cityByPage,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"城市名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"deleted",label:"城市状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0==e.row.deleted?"正常":"删除"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[5,10,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalNums},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},i=[],l={name:"List",data:function(){return{cityByPage:[],searchCityName:"",addCityName:"",currentPage:1,totalNums:10,pageSize:5}},mounted:function(){this.findAll()},methods:{handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.pageSize=t,this.updatePages()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.currentPage=t,this.updatePages()},updatePages:function(){this.cityByPage=[],this.findAll()},addEmp:function(){this.$axios.defaults.baseURL="https://www.zglele.com:8081/pet/",this.$axios.post("admin/city/city",{params:{city:this.addCityName}}).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))},findAll:function(){var t=this;this.$axios.defaults.baseURL="https://www.zglele.com:8081/pet/",this.$axios.get("admin/city/cities",{params:{page:this.currentPage,size:this.pageSize,name:this.searchCityName}}).then((function(e){console.log(e.data),t.cityByPage=e.data.data,t.totalNums=e.data.total})).catch((function(t){console.log(t)}))},fzfindAll:function(){this.currentPage=1,this.findAll()},del:function(t){var e=this;console.log(t),this.$axios.defaults.baseURL="https://www.zglele.com:8081/pet/",this.$axios.delete("admin/city/city",{params:{id:t}}).then((function(t){"1"===t.data?(e.employeesByPage=[],e.findAll(),console.log("删除成功")):console.log("删除失败")})).catch((function(t){console.log(t)}))}}},o=l,s=(a("c720"),a("2877")),c=Object(s["a"])(o,n,i,!1,null,"1dabe314",null);e["default"]=c.exports},c720:function(t,e,a){"use strict";var n=a("ed49"),i=a.n(n);i.a},ed49:function(t,e,a){}}]);